#!/bin/sh

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚ŒãŸ.clineä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’ãƒã‚§ãƒƒã‚¯
if git diff --cached --name-only | grep "^\.cline/" > /dev/null; then
    echo "ğŸ“ .clineãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚gen:clineã‚’å®Ÿè¡Œã—ã¾ã™..."
    # npm run gen:clineã‚’å®Ÿè¡Œ
    npm run gen:cline || exit 1
    
    # ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã«è¿½åŠ 
    git add .clinerules .roomodes
    echo "âœ… gen:clineã®å®Ÿè¡ŒãŒå®Œäº†ã—ã€ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã«è¿½åŠ ã—ã¾ã—ãŸ"
fi

exit 0